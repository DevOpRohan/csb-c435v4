{"version":3,"sources":["Chat.js","index.js"],"names":["useStyles","makeStyles","root","height","display","flexDirection","justifyContent","chatCard","width","margin","marginTop","marginBottom","borderRadius","boxShadow","title","fontSize","inputContainer","alignItems","inputField","flexGrow","marginRight","Chat","classes","_useState","useState","_useState2","_slicedToArray","userMessage","setUserMessage","_useState3","_useState4","chatMessages","setChatMessages","_useState5","_useState6","isButtonClicked","setIsButtonClicked","chatContainerRef","useRef","fetchBotMessage","useCallback","fetch","concat","then","response","text","data","botMessage","message","isBot","prevChatMessages","_toConsumableArray","slice","catch","error","console","useEffect","current","scrollTop","scrollHeight","formatMessage","split","map","snippet","index","languageMatch","match","language","cleanedSnippet","replace","highlightedSnippet","hljs","highlightAuto","value","_jsxs","style","position","children","_jsx","overflowX","whiteSpace","wordWrap","dangerouslySetInnerHTML","__html","IconButton","top","right","padding","onClick","navigator","clipboard","writeText","FileCopyIcon","className","Card","CardContent","Typography","align","gutterBottom","overflow","ref","maxWidth","backgroundColor","variant","TextField","label","onChange","event","target","autoComplete","autoFocus","multiline","rows","inputProps","resize","Button","color","rootElement","document","getElementById","createRoot","render","StrictMode"],"mappings":"2PAcMA,EAAYC,YAAW,CAC3BC,KAAM,CACJC,OAAQ,QACRC,QAAS,OACTC,cAAe,SACfC,eAAgB,iBAElBC,SAAU,CACRC,MAAO,OACPL,OAAQ,OACRM,OAAQ,OACRC,UAAW,EACXC,aAAc,EACdC,aAAc,OACdC,UAAW,8BAEbC,MAAO,CACLC,SAAU,UAEZC,eAAgB,CACdZ,QAAS,OACTa,WAAY,SACZP,UAAW,MACXC,aAAc,MAEhBO,WAAY,CACVC,SAAU,EACVC,YAAa,SA+KFC,EA3KF,WACX,IAAMC,EAAUtB,IAChBuB,EAAsCC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAA3CI,EAAWF,EAAA,GAAEG,EAAcH,EAAA,GAClCI,EAAwCL,mBAAS,IAAGM,EAAAJ,YAAAG,EAAA,GAA7CE,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GACpCG,EAA8CT,oBAAS,GAAMU,EAAAR,YAAAO,EAAA,GAAtDE,EAAeD,EAAA,GAAEE,EAAkBF,EAAA,GACpCG,EAAmBC,iBAAO,MAkB1BC,EAAkBC,uBAAY,WAClCC,MAAM,yDAADC,OACsDf,IAExDgB,MAAK,SAACC,GAAQ,OAAKA,EAASC,MAAM,IAClCF,MAAK,SAACG,GACL,IAAMC,EAAa,CAAEC,QAASF,EAAMG,OAAO,GAC3CjB,GAAgB,SAACkB,GAAgB,SAAAR,OAAAS,YAC5BD,EAAiBE,MAAM,GAAI,IAAE,CAChCL,GAAU,GAEd,IACCM,OAAM,SAACC,GACNC,QAAQD,MAAMA,EAChB,GACJ,GAAG,CAAC3B,IAEJ6B,qBAAU,WACJrB,IACFI,IACAH,GAAmB,GACnBR,EAAe,IAEnB,GAAG,CAACO,EAAiBI,IAErBiB,qBAAU,WACJnB,EAAiBoB,UACnBpB,EAAiBoB,QAAQC,UACvBrB,EAAiBoB,QAAQE,aAE/B,GAAG,CAAC5B,IAEJ,IAAM6B,EAAgB,SAACZ,GACrB,OAAOA,EAAQa,MAAM,OAAOC,KAAI,SAACC,EAASC,GACxC,GAAIA,EAAQ,IAAM,EAAG,CACnB,IAAMC,EAAgBF,EAAQG,MAAM,YAC9BC,EAAWF,EAAgBA,EAAc,GAAK,KAC9CG,EAAiBL,EAAQM,QAAQ,SAAU,IAC3CC,EAAqBC,IAAKC,cAC9BJ,EACAD,EAAW,CAACA,GAAY,MACxBM,MACF,OACEC,eAAA,OAAiBC,MAAO,CAAEC,SAAU,YAAaC,SAAA,CAC/CC,cAAA,OACEH,MAAO,CACLI,UAAW,OACXC,WAAY,WACZC,SAAU,cAEZC,wBAAyB,CAAEC,OAAQb,KAErCQ,cAACM,IAAU,CACTT,MAAO,CACLC,SAAU,WACVS,IAAK,EACLC,MAAO,EACPC,QAAS,EACTxE,SAAU,UAEZyE,QAAS,WACPC,UAAUC,UAAUC,UAAUvB,EAChC,EAAES,SAEFC,cAACc,IAAY,CAAC7E,SAAS,cArBjBiD,EAyBd,CACE,OAAOc,cAAA,QAAAD,SAAmBd,GAARC,EAEtB,GACF,EAEA,OACEU,eAAA,OAAKmB,UAAWvE,EAAQpB,KAAK2E,SAAA,CAC3BC,cAACgB,IAAI,CAACD,UAAWvE,EAAQf,SAASsE,SAChCH,eAACqB,IAAW,CAAAlB,SAAA,CACVC,cAACkB,IAAU,CAACH,UAAWvE,EAAQR,MAAOmF,MAAM,SAASC,cAAY,EAAArB,SAAC,WAGlEC,cAAA,OACEH,MAAO,CACLvE,QAAS,OACTC,cAAe,SACfF,OAAQ,OACRgG,SAAU,QAEZC,IAAK/D,EAAiBwC,SAErB9C,EAAa+B,KAAI,SAACd,EAASgB,GAAK,OAE/Bc,aADA,CACA,OAEEH,MAAO,CACLvE,QAAS,OACTE,eAAgB0C,EAAQC,MAAQ,aAAe,WAC/CtC,aAAc,OACdkE,SAEFC,cAACgB,IAAI,CACHnB,MAAO,CACLnE,MAAO,OACP6F,SAAU,MACVC,iBACoB,IAAlBtD,EAAQC,MAAkB,UAAY,SACxC4B,SAEFC,cAACiB,IAAW,CACVpB,MAAO,CACLY,QAAS,OACTV,SAEFC,cAACkB,IAAU,CAACO,QAAQ,QAAQ5B,MAAO,CAAE5D,SAAU,IAAK8D,SACjDjB,EAAcZ,EAAQA,gBArBxBgB,EAyBD,WAKdU,eAAA,OAAKmB,UAAWvE,EAAQN,eAAe6D,SAAA,CACrCC,cAAC0B,IAAS,CACRX,UAAWvE,EAAQJ,WACnBuF,MAAM,iBACNhC,MAAO9C,EACP+E,SAhJwB,SAACC,GAC/B/E,EAAe+E,EAAMC,OAAOnC,MAC9B,EA+IQoC,aAAa,MACbC,WAAS,EACTC,WAAS,EACTC,KAAM,EACNC,WAAY,CACVtC,MAAO,CACLwB,SAAU,OACVe,OAAQ,SAGZX,QAAQ,aAEVzB,cAACqC,IAAM,CAACZ,QAAQ,YAAYa,MAAM,UAAU5B,QAzJxB,WACxB,GAAI7D,EAAa,CACf,IAAMoB,EAAa,CAAEC,QAAS,YAAaC,OAAO,GAClDjB,GAAgB,SAACkB,GAAgB,SAAAR,OAAAS,YAC5BD,GAAgB,CACnB,CAAEF,QAASrB,EAAasB,OAAO,GAC/BF,GAAU,IAEZX,GAAmB,EACrB,CACF,EA+I6EyC,SAAC,cAMhF,EClNMwC,EAAcC,SAASC,eAAe,QAC/BC,qBAAWH,GAEnBI,OACH3C,cAAC4C,aAAU,CAAA7C,SACTC,cAACzD,EAAI,M","file":"static/js/main.b7c8b291.chunk.js","sourcesContent":["import \"highlight.js/styles/github.css\";\nimport hljs from \"highlight.js\";\nimport React, { useState, useEffect, useCallback, useRef } from \"react\";\nimport {\n  Card,\n  CardContent,\n  TextField,\n  Typography,\n  Button,\n  IconButton\n} from \"@material-ui/core\";\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\nimport { makeStyles } from \"@material-ui/styles\";\n\nconst useStyles = makeStyles({\n  root: {\n    height: \"100vh\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-between\"\n  },\n  chatCard: {\n    width: \"100%\",\n    height: \"100%\",\n    margin: \"auto\",\n    marginTop: 0,\n    marginBottom: 0,\n    borderRadius: \"15px\",\n    boxShadow: \"0 8px 16px rgba(0,0,0,0.2)\"\n  },\n  title: {\n    fontSize: \"1.5rem\"\n  },\n  inputContainer: {\n    display: \"flex\",\n    alignItems: \"center\",\n    marginTop: \"8px\",\n    marginBottom: \"1%\"\n  },\n  inputField: {\n    flexGrow: 1,\n    marginRight: \"8px\"\n  }\n});\n\nconst Chat = () => {\n  const classes = useStyles();\n  const [userMessage, setUserMessage] = useState(\"\");\n  const [chatMessages, setChatMessages] = useState([]);\n  const [isButtonClicked, setIsButtonClicked] = useState(false);\n  const chatContainerRef = useRef(null);\n\n  const handleUserMessageChange = (event) => {\n    setUserMessage(event.target.value);\n  };\n\n  const handleSendMessage = () => {\n    if (userMessage) {\n      const botMessage = { message: \"Typing...\", isBot: true };\n      setChatMessages((prevChatMessages) => [\n        ...prevChatMessages,\n        { message: userMessage, isBot: false },\n        botMessage\n      ]);\n      setIsButtonClicked(true);\n    }\n  };\n\n  const fetchBotMessage = useCallback(() => {\n    fetch(\n      `https://walrus-app-hodhq.ondigitalocean.app/android?q=${userMessage}`\n    )\n      .then((response) => response.text())\n      .then((data) => {\n        const botMessage = { message: data, isBot: true };\n        setChatMessages((prevChatMessages) => [\n          ...prevChatMessages.slice(0, -1),\n          botMessage\n        ]);\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  }, [userMessage]);\n\n  useEffect(() => {\n    if (isButtonClicked) {\n      fetchBotMessage();\n      setIsButtonClicked(false);\n      setUserMessage(\"\");\n    }\n  }, [isButtonClicked, fetchBotMessage]);\n\n  useEffect(() => {\n    if (chatContainerRef.current) {\n      chatContainerRef.current.scrollTop =\n        chatContainerRef.current.scrollHeight;\n    }\n  }, [chatMessages]);\n\n  const formatMessage = (message) => {\n    return message.split(\"```\").map((snippet, index) => {\n      if (index % 2 === 1) {\n        const languageMatch = snippet.match(/^(\\w+)\\n/);\n        const language = languageMatch ? languageMatch[1] : null;\n        const cleanedSnippet = snippet.replace(/^\\w+\\n/, \"\");\n        const highlightedSnippet = hljs.highlightAuto(\n          cleanedSnippet,\n          language ? [language] : null\n        ).value;\n        return (\n          <div key={index} style={{ position: \"relative\" }}>\n            <pre\n              style={{\n                overflowX: \"auto\",\n                whiteSpace: \"pre-wrap\",\n                wordWrap: \"break-word\"\n              }}\n              dangerouslySetInnerHTML={{ __html: highlightedSnippet }}\n            ></pre>\n            <IconButton\n              style={{\n                position: \"absolute\",\n                top: 0,\n                right: 0,\n                padding: 0,\n                fontSize: \"0.8rem\"\n              }}\n              onClick={() => {\n                navigator.clipboard.writeText(cleanedSnippet);\n              }}\n            >\n              <FileCopyIcon fontSize=\"small\" />\n            </IconButton>\n          </div>\n        );\n      } else {\n        return <span key={index}>{snippet}</span>;\n      }\n    });\n  };\n\n  return (\n    <div className={classes.root}>\n      <Card className={classes.chatCard}>\n        <CardContent>\n          <Typography className={classes.title} align=\"center\" gutterBottom>\n            Jarvis\n          </Typography>\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              height: \"60vh\",\n              overflow: \"auto\"\n            }}\n            ref={chatContainerRef}\n          >\n            {chatMessages.map((message, index) => (\n              // ... rest of the code remains the same\n              <div\n                key={index}\n                style={{\n                  display: \"flex\",\n                  justifyContent: message.isBot ? \"flex-start\" : \"flex-end\",\n                  marginBottom: \"8px\"\n                }}\n              >\n                <Card\n                  style={{\n                    width: \"auto\",\n                    maxWidth: \"85%\",\n                    backgroundColor:\n                      message.isBot === false ? \"#f7f7f7\" : \"white\"\n                  }}\n                >\n                  <CardContent\n                    style={{\n                      padding: \"5px\"\n                    }}\n                  >\n                    <Typography variant=\"body1\" style={{ fontSize: 14 }}>\n                      {formatMessage(message.message)}\n                    </Typography>\n                  </CardContent>\n                </Card>\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n      <div className={classes.inputContainer}>\n        <TextField\n          className={classes.inputField}\n          label=\"Type a message\"\n          value={userMessage}\n          onChange={handleUserMessageChange}\n          autoComplete=\"off\"\n          autoFocus\n          multiline\n          rows={4}\n          inputProps={{\n            style: {\n              overflow: \"auto\",\n              resize: \"both\"\n            }\n          }}\n          variant=\"outlined\"\n        />\n        <Button variant=\"contained\" color=\"primary\" onClick={handleSendMessage}>\n          Send\n        </Button>\n      </div>\n    </div>\n  );\n};\nexport default Chat;\n","import { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\n\nimport Chat from \"./Chat\";\n\nconst rootElement = document.getElementById(\"root\");\nconst root = createRoot(rootElement);\n\nroot.render(\n  <StrictMode>\n    <Chat />\n  </StrictMode>\n);\n"],"sourceRoot":""}